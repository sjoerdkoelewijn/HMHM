/*! Hashmuseum v1.0.0 | (c) 2020 Sjoerd Koelewijn | MIT License |  */
for(var forms=document.querySelector("[data-form-validate]"),i=0;i<forms.length;i++)forms[i].setAttribute("novalidate",!0);var hasError=function(e){if(!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type&&"search"!==e.type){var r=e.validity;return r.valid?"":r.valueMissing?"Please fill out this field":r.typeMismatch&&"email"===e.type?"Is this email address correct?":"Please check this field. Avoid using special characters"}},showError=function(e,r){var t=e.id||e.name;if(t){if(e.classList.add("error"),"radio"===e.type&&e.name){var s=document.getElementsByName(e.name);if(s.length>0){for(let r=0;r<s.length;r++)s[r].form===e.form&&s[r].classList.add("error");e=s[s.length-1]}}var i,o=e.form.querySelector(".error-message#error-for-"+t);if(!o)(o=document.createElement("div")).className="error-message",o.id="error-for-"+t,"checkbox"===e.type&&(i=e.form.querySelector('label[for="'+t+'"]')||e.parentNode)&&i.parentNode.insertBefore(o,i.nextSibling),i||e.parentNode.insertBefore(o,e.nextSibling);o||((o=document.createElement("div")).className="error-message",o.id="error-for-"+t,e.parentNode.insertBefore(o,e.nextSibling)),e.setAttribute("aria-describedby","error-for-"+t),o.innerHTML=r,o.style.display="block",o.style.visibility="visible"}},removeError=function(e){e.classList.remove("error"),e.removeAttribute("aria-describedby");var r=e.id||e.name;if(r){var t=e.form.querySelector(".error-message#error-for-"+r);t&&(t.innerHTML="",t.style.display="none",t.style.visibility="hidden")}};document.addEventListener("blur",(function(e){var r=hasError(e.target);r?showError(e.target,r):removeError(e.target)}),!0),document.addEventListener("submit",(function(e){for(var r,t,s=e.target.elements,i=0;i<s.length;i++)(r=hasError(s[i]))&&(showError(s[i],r),t||(t=s[i]));t?(e.preventDefault(),t.focus()):(e.preventDefault(),submitMailChimpForm(e.target))}),!1);var submitMailChimpForm=function(e){var r=e.getAttribute("action");r=r.replace("/post?u=","/post-json?u="),r+=serialize(e)+"&c=displayMailChimpStatus";var t=window.document.createElement("script");t.src=r;var s=window.document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s),t.onload=function(){this.remove()}},serialize=function(e){var r="";for(i=0;i<e.elements.length;i++){var t=e.elements[i];t.name&&!t.disabled&&"file"!==t.type&&"reset"!==t.type&&"submit"!==t.type&&"button"!==t.type&&(("checkbox"!==t.type&&"radio"!==t.type||t.checked)&&(r+="&"+encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)))}return r},displayMailChimpStatus=function(e){if(console.log(e),e.result&&e.msg){var r=document.querySelector("[data-hide-form]"),t=document.querySelector("[data-mc-status]");if(t)return t.innerHTML=e.msg,t.focus(),"error"===e.result?(t.classList.remove("success-message"),void t.classList.add("error-message")):"success"===e.result?(t.classList.remove("error-message"),t.classList.add("success-message"),void r.classList.add("hidden")):void 0}};